<html>
    <head>
        <title>ans</title>
        <link rel="stylesheet" type="text/css" href="../style.css">
        <meta charset="UTF-8">
    </head>
    <body>Файлы в С. Функции работы с бинарными файлами.
        <pre>
                1.3. Ввод/вывод в поток
                1.3.1. Основные понятия
                Ввод/вывод в поток можно осуществить разными способами:
                •	в виде последовательности байтов;
                •	в виде символов и строк;
                •	с использованием форматных преобразований.
                Операции ввода/вывода выполняются, начиная с текущей позиции потока. Текущая позиция определяется положением указателя потока. Указатель потока устанавливается на начало или конец файла  при открытии в соответствии с режимом открытия. После каждой операции ввода/вывода указатель потока автоматически изменяется.
                
                1.3.2. Позиционирование в файле
                Функции получения текущего положения указателя потока
                 ftell() и fgetpos()
                
                Функция ftell ()возвращает текущую позицию в файле, связанном с потоком f, как длинное целое. В случае ошибки возвращает число (-1).
                
                Функция fgetpos() возвращает текущую позицию в файле, связанном с потоком f,  и копирует значение текущей позиции по адресу pos. Это значение позднее может использоваться функцией. Возвращаемое значение имеет тип fpos_t, который используется функциями fgetpos()  и fsetpos() для хранения текущей позиции файла: 
                typedef long fpos_t;
                
                1.3.3. Функции задания положения указателя  fseek() и fsetpos()
                
                Прототип функции fseek() :
                int fseek (File *f, long off, int org);
                Функция перемещает текущую позицию в файле, связанном с потоком f, на позицию off, отсчитываемую от значения org, которое должно быть равно одной из констант, определенных в <stdio.h>:
                SEEK_CUR – от текущей позиции указателя (1);
                SEEK_END – от конца файла (2);
                SEEK_SET  - от начала файла (0).
                Функция перемещает текущую позицию в файле, связанном с потоком f, на позицию *pos, предварительно полученную с помощью функции fgetpos().
                Примечание. Функции fseek() и fsetpos() нельзя использовать для стандартных потоков.
                Функция rewind() очищает флаги ошибок при работе с потоками и переходит к началу файла. Ее прототип:
                
                
                1.3.4.Функции чтения и записи потока байтов fread() и fwrite()
                
                Прототип функции fread()
                size_t fread (void *buffer, size_t size, size_t count, FILE *stream);
                Функция считывает  count элементов длиной size байтов в область, заданную указателем buffer, из потока stream. Возвращает количество прочитанных элементов, которое может быть меньше count, если при чтении произошла ошибка или встретился конец файла.
                 Прототип функции fwrite():
                size_t fwrite (const void *p, size_t size,  size_t n, FILE *);
                Функция записывает n элементов длиной size байтов из буфера, заданного указателем p, в поток  f. Возвращает число записанных элементов. 
                
                1.3.5. Функции чтения символа из потока (getс(), fgetс(), getchar())
                Функция getс (), имеющая прототип:
                int getc (FILE *f);
                возвращает очередной символ в формате int из потока f. Если символ не может быть прочитан, то возвращает значение EOF.
                Функция fgetс(), имеющая прототип:
                int fgetc (FILE *f);
                возвращает очередной символ в формате int из потока f. Если символ не может быть прочитан, то возвращает значение EOF.
                Функция getchar(), имеющая прототип:
                int getchar (void);
                возвращает очередной символ в формате int из стандартного потока (stdin). Если символ не может быть прочитан, то возвращает значение EOF.
                
                1.3.6. Функции записи символа в поток (putc(), fputc(), putchar())
                Функция putс() записывает символ ch в поток f. При ошибке возвращает значение EOF. Ее прототип:
                int putc (int ch, FILE *f);
                Выполняется аналогично функция fputc(). Ее прототип:
                int fputc (int ch, FILE *f);
                
                Функция putchar() выводит символ  ch на стандартное устройство вывода, добавляя в конце символ новой строки. Возвращает неотрицательноу значение при успехе или EOF – при ошибке.
                
                
                1.3.7. Функции чтения строки из потока (fgets(), gets())
                Прототип функции fgets():
                char *fgets (char *s, int n, FILE *f);
                Функция читает не более n-1 байт из потока f в строку s, прекращая чтение при обнаружении символа новой строки или конца файла. Символ новой строки при чтении не отбрасывается, помещается конец строки s. Прочитанная строка дополняется ограничителем строки ('\0'). При обнаружении ошибки или конца файла возвращает NULL, в противном случае – указатель на строку s. 
                Функция читает символы с клавиатуры до появления символа новой строки и помещает их в строку s. Сам символ новой строки в строку не включается. Возвращает указатель на s. Прототип функции gets():
                char *gets (char *s);
                
                1.3.8. Функции записи строки в поток (fputs(), puts())
                Прототип функции fput()s:
                int fputs (const char * s, FILE *f);
                Функция fputs() записывает строку символов s в поток f. Символ конца строки в файл не записывается. При ошибке возвращает значение EOF, иначе – неотрицательное число. 
                Функция puts ()выводит строку s на стандартное устройство вывода, добавляя в конце символ новой строки. Возвращает неотрицательное значение при успехе или EOF – при ошибке. Прототип функции puts():
                int puts (char *s);
                
                1.3.9. Функции форматированного ввода из потока (fscanf(),scanf(), sscanf())
                
                Прототип функции fscanf():
                int fscanf (FILE *f, const char *fmt [, par1, par2, …]);
                Эта функция вводит (читает) строку параметров par1, par2, … в формате, определенном строкой fmt, из файла f. Возвращает число переменных, которым присвоено значение.
                Прототип функции scanf():
                int scanf (const char *fmt [, par1, par2, …]);
                Функция scanf() вводит (читает) строку параметров par1, par2, … в формате, определенном строкой fmt, со стандартного устройства ввода (обычно с клавиатуры (stdin)). Возвращает число переменных, которым присвоено значение.
                Прототип функции sscanf():
                int sscanf (const char *buf,  const char *fmt [, par1, par2, …]);
                Функция sscanf() вводит данные аналогично функции scanf(), но не с клавиатуры, а из строки символов, переданной ей первым параметром. Аргумент buf – строка символов, из которой вводятся значения, fmt - строка формата, в соответствии с которой происходит преобразование данных. Многоточие указывает на наличие необязательных аргументов, соответствующих адресам вводимых значений.
                
                1.3.10. Функции форматированного вывода в поток (fprintf(), printf(), sprintf())
                
                Прототип функции fprintf()
                int fprintf (FILE *f, const char *fmt, …);
                Функция записывает в поток f переменные, список которых обозначен многоточием (…), в формате, указанном строкой fmt. Возвращает число записанных значений. 
                Прототип функции printf():
                int printf (const char *fmt, …);
                Функция выводит на стандартное устройство вывода (stdout) значения переменных, перечисленных в списке, обозначенном многоточием (…), в формате, определенном  строкой fmt. Возвращает число выведенных значений.
                Прототип функции sprintf():
                int sprintf (char *buf, const char *fmt, …);
                Функция выводит в строку значения переменных, перечисленных в списке, обозначенном многоточием (…), в формате, определенном  строкой fmt. 
                Примечание. Спецификации формата fmt были рассмотрены в разделе "Консольный ввод-вывод".
        </pre>
    </body>
</html>